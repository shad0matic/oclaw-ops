{
  "id": "00000000-0000-0000-0000-000000000000",
  "prevId": "",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "memory.memories": {
      "name": "memories",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "importance": {
          "name": "importance",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "source_file": {
          "name": "source_file",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'main'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_memories_agent": {
          "name": "idx_memories_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_memories_created": {
          "name": "idx_memories_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_memories_tags": {
          "name": "idx_memories_tags",
          "columns": [
            {
              "expression": "tags",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "memories_embedding_idx": {
          "name": "memories_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "20"
          }
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "memories_importance_check": {
          "name": "memories_importance_check",
          "value": "(importance >= 1) AND (importance <= 10)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.daily_notes": {
      "name": "daily_notes",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "note_date": {
          "name": "note_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "daily_notes_embedding_idx": {
          "name": "daily_notes_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "10"
          }
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "daily_notes_note_date_key": {
          "columns": [
            "note_date"
          ],
          "nullsNotDistinct": false,
          "name": "daily_notes_note_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.performance_reviews": {
      "name": "performance_reviews",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "reviewer": {
          "name": "reviewer",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'kevin'"
        },
        "output_summary": {
          "name": "output_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "level_before": {
          "name": "level_before",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "level_after": {
          "name": "level_after",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false
        },
        "feedback": {
          "name": "feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "performance_reviews_rating_check": {
          "name": "performance_reviews_rating_check",
          "value": "(rating >= 1) AND (rating <= 5)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.agent_events": {
      "name": "agent_events",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detail": {
          "name": "detail",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "session_key": {
          "name": "session_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "context_id": {
          "name": "context_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "task_id": {
          "name": "task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_agent_events_task": {
          "name": "idx_agent_events_task",
          "columns": [
            {
              "expression": "task_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(task_id IS NOT NULL)",
          "with": {}
        },
        "idx_events_agent": {
          "name": "idx_events_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_events_context": {
          "name": "idx_events_context",
          "columns": [
            {
              "expression": "context_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(context_id IS NOT NULL)",
          "with": {}
        },
        "idx_events_type": {
          "name": "idx_events_type",
          "columns": [
            {
              "expression": "event_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_events_context_id_fkey": {
          "name": "agent_events_context_id_fkey",
          "tableFrom": "agent_events",
          "tableTo": "runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "context_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_events_task_id_fkey": {
          "name": "agent_events_task_id_fkey",
          "tableFrom": "agent_events",
          "tableTo": "task_queue",
          "schemaTo": "ops",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.agent_profiles": {
      "name": "agent_profiles",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "level": {
          "name": "level",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "trust_score": {
          "name": "trust_score",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.50'"
        },
        "total_tasks": {
          "name": "total_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "successful_tasks": {
          "name": "successful_tasks",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "''"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "agent_profiles_agent_id_key": {
          "columns": [
            "agent_id"
          ],
          "nullsNotDistinct": false,
          "name": "agent_profiles_agent_id_key"
        }
      },
      "checkConstraints": {
        "agent_profiles_level_check": {
          "name": "agent_profiles_level_check",
          "value": "(level >= 1) AND (level <= 4)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.workflows": {
      "name": "workflows",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "yaml_definition": {
          "name": "yaml_definition",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "workflows_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "workflows_name_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.runs": {
      "name": "runs",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "workflow_id": {
          "name": "workflow_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "workflow_name": {
          "name": "workflow_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task": {
          "name": "task",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "triggered_by": {
          "name": "triggered_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'manual'"
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'main'"
        },
        "last_heartbeat": {
          "name": "last_heartbeat",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "heartbeat_msg": {
          "name": "heartbeat_msg",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timeout_seconds": {
          "name": "timeout_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 600
        },
        "session_key": {
          "name": "session_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "source_feature_request": {
          "name": "source_feature_request",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_iteration": {
          "name": "review_iteration",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "review_feedback": {
          "name": "review_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "zombie_status": {
          "name": "zombie_status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'none'"
        }
      },
      "indexes": {
        "idx_runs_agent_status": {
          "name": "idx_runs_agent_status",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_runs_heartbeat": {
          "name": "idx_runs_heartbeat",
          "columns": [
            {
              "expression": "last_heartbeat",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'running'::text)",
          "with": {}
        },
        "idx_runs_project": {
          "name": "idx_runs_project",
          "columns": [
            {
              "expression": "project",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(project IS NOT NULL)",
          "with": {}
        },
        "idx_runs_status": {
          "name": "idx_runs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_runs_workflow": {
          "name": "idx_runs_workflow",
          "columns": [
            {
              "expression": "workflow_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "runs_workflow_id_fkey": {
          "name": "runs_workflow_id_fkey",
          "tableFrom": "runs",
          "tableTo": "workflows",
          "schemaTo": "ops",
          "columnsFrom": [
            "workflow_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "runs_status_check": {
          "name": "runs_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'in_progress'::text, 'running'::text, 'review'::text, 'human_review'::text, 'paused'::text, 'done'::text, 'completed'::text, 'failed'::text, 'cancelled'::text, 'stalled'::text])"
        },
        "runs_zombie_status_check": {
          "name": "runs_zombie_status_check",
          "value": "zombie_status = ANY (ARRAY['suspected'::text, 'none'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.steps": {
      "name": "steps",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "run_id": {
          "name": "run_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "step_name": {
          "name": "step_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step_order": {
          "name": "step_order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'main'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "output": {
          "name": "output",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retries": {
          "name": "retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_steps_run": {
          "name": "idx_steps_run",
          "columns": [
            {
              "expression": "run_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "step_order",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_steps_status": {
          "name": "idx_steps_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "steps_run_id_fkey": {
          "name": "steps_run_id_fkey",
          "tableFrom": "steps",
          "tableTo": "runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "steps_status_check": {
          "name": "steps_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'running'::text, 'done'::text, 'failed'::text, 'skipped'::text, 'waiting_approval'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.tasks": {
      "name": "tasks",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "priority": {
          "name": "priority",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "claimed_by": {
          "name": "claimed_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "group_key": {
          "name": "group_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visible_at": {
          "name": "visible_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "run_id": {
          "name": "run_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "step_id": {
          "name": "step_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_tasks_claimed": {
          "name": "idx_tasks_claimed",
          "columns": [
            {
              "expression": "claimed_by",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = 'claimed'::text)",
          "with": {}
        },
        "idx_tasks_status": {
          "name": "idx_tasks_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "priority",
              "asc": false,
              "nulls": "first",
              "opclass": "int2_ops",
              "isExpression": false
            },
            {
              "expression": "visible_at",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tasks_run_id_fkey": {
          "name": "tasks_run_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tasks_step_id_fkey": {
          "name": "tasks_step_id_fkey",
          "tableFrom": "tasks",
          "tableTo": "steps",
          "schemaTo": "ops",
          "columnsFrom": [
            "step_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "tasks_status_check": {
          "name": "tasks_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'claimed'::text, 'running'::text, 'done'::text, 'failed'::text, 'cancelled'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.subscriptions": {
      "name": "subscriptions",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_price": {
          "name": "monthly_price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'EUR'"
        },
        "used_in_openclaw": {
          "name": "used_in_openclaw",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "renewal_day": {
          "name": "renewal_day",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "subscriptions_name_key": {
          "columns": [
            "name"
          ],
          "nullsNotDistinct": false,
          "name": "subscriptions_name_key"
        }
      },
      "checkConstraints": {
        "subscriptions_currency_check": {
          "name": "subscriptions_currency_check",
          "value": "currency = ANY (ARRAY['EUR'::text, 'USD'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.cost_snapshots": {
      "name": "cost_snapshots",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "snapshot_hour": {
          "name": "snapshot_hour",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "fixed_eur": {
          "name": "fixed_eur",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "variable_eur": {
          "name": "variable_eur",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_eur": {
          "name": "total_eur",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "breakdown": {
          "name": "breakdown",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cost_snapshots_hour": {
          "name": "idx_cost_snapshots_hour",
          "columns": [
            {
              "expression": "snapshot_hour",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.fx_rates": {
      "name": "fx_rates",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "rate_date": {
          "name": "rate_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "usd_to_eur": {
          "name": "usd_to_eur",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'ecb'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fx_rates_date": {
          "name": "idx_fx_rates_date",
          "columns": [
            {
              "expression": "rate_date",
              "asc": false,
              "nulls": "first",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fx_rates_rate_date_key": {
          "columns": [
            "rate_date"
          ],
          "nullsNotDistinct": false,
          "name": "fx_rates_rate_date_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.mistakes": {
      "name": "mistakes",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "lesson_learned": {
          "name": "lesson_learned",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "severity": {
          "name": "severity",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 3
        },
        "recurrence_count": {
          "name": "recurrence_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "last_occurred_at": {
          "name": "last_occurred_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mistakes_agent": {
          "name": "idx_mistakes_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_mistakes_unresolved": {
          "name": "idx_mistakes_unresolved",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(resolved = false)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "mistakes_severity_check": {
          "name": "mistakes_severity_check",
          "value": "(severity >= 1) AND (severity <= 5)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.system_metrics": {
      "name": "system_metrics",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "ts": {
          "name": "ts",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cpu_pct": {
          "name": "cpu_pct",
          "type": "real",
          "primaryKey": false,
          "notNull": true
        },
        "mem_used_bytes": {
          "name": "mem_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "mem_total_bytes": {
          "name": "mem_total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "disk_used_bytes": {
          "name": "disk_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "disk_total_bytes": {
          "name": "disk_total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "db_size_bytes": {
          "name": "db_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "db_connections": {
          "name": "db_connections",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_system_metrics_ts": {
          "name": "idx_system_metrics_ts",
          "columns": [
            {
              "expression": "ts",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.priorities": {
      "name": "priorities",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "entity": {
          "name": "entity",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'topic'"
        },
        "priority": {
          "name": "priority",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "reported_by": {
          "name": "reported_by",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "confirmed_by": {
          "name": "confirmed_by",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "signal_count": {
          "name": "signal_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "last_seen_at": {
          "name": "last_seen_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_priorities_active": {
          "name": "idx_priorities_active",
          "columns": [
            {
              "expression": "priority",
              "asc": false,
              "nulls": "first",
              "opclass": "int4_ops",
              "isExpression": false
            },
            {
              "expression": "signal_count",
              "asc": false,
              "nulls": "first",
              "opclass": "int2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(resolved_at IS NULL)",
          "with": {}
        },
        "idx_priorities_entity_type": {
          "name": "idx_priorities_entity_type",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "priorities_entity_entity_type_key": {
          "columns": [
            "entity_type",
            "entity"
          ],
          "nullsNotDistinct": false,
          "name": "priorities_entity_entity_type_key"
        }
      },
      "checkConstraints": {
        "priorities_priority_check": {
          "name": "priorities_priority_check",
          "value": "(priority >= 1) AND (priority <= 10)"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.cross_signals": {
      "name": "cross_signals",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "priority_id": {
          "name": "priority_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source": {
          "name": "source",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snippet": {
          "name": "snippet",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "confidence": {
          "name": "confidence",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.50'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cross_signals_agent": {
          "name": "idx_cross_signals_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_cross_signals_priority": {
          "name": "idx_cross_signals_priority",
          "columns": [
            {
              "expression": "priority_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cross_signals_priority_id_fkey": {
          "name": "cross_signals_priority_id_fkey",
          "tableFrom": "cross_signals",
          "tableTo": "priorities",
          "schemaTo": "ops",
          "columnsFrom": [
            "priority_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.reactions": {
      "name": "reactions",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "trigger_agent": {
          "name": "trigger_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_event": {
          "name": "trigger_event",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "trigger_filter": {
          "name": "trigger_filter",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "responder_agent": {
          "name": "responder_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action_params": {
          "name": "action_params",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "probability": {
          "name": "probability",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_reactions_trigger": {
          "name": "idx_reactions_trigger",
          "columns": [
            {
              "expression": "trigger_agent",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "trigger_event",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(enabled = true)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.entities": {
      "name": "entities",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entity_type": {
          "name": "entity_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'unknown'"
        },
        "aliases": {
          "name": "aliases",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"\"}'"
        },
        "properties": {
          "name": "properties",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "first_seen_by": {
          "name": "first_seen_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_entities_aliases": {
          "name": "idx_entities_aliases",
          "columns": [
            {
              "expression": "aliases",
              "asc": true,
              "nulls": "last",
              "opclass": "array_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "gin",
          "with": {}
        },
        "idx_entities_embedding": {
          "name": "idx_entities_embedding",
          "columns": [
            {
              "expression": "embedding",
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "ivfflat",
          "with": {
            "lists": "20"
          }
        },
        "idx_entities_type": {
          "name": "idx_entities_type",
          "columns": [
            {
              "expression": "entity_type",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "entities_name_entity_type_key": {
          "columns": [
            "name",
            "entity_type"
          ],
          "nullsNotDistinct": false,
          "name": "entities_name_entity_type_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.entity_relations": {
      "name": "entity_relations",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "source_id": {
          "name": "source_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "target_id": {
          "name": "target_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "relation_type": {
          "name": "relation_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "strength": {
          "name": "strength",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.50'"
        },
        "context": {
          "name": "context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_entity_relations_source": {
          "name": "idx_entity_relations_source",
          "columns": [
            {
              "expression": "source_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_entity_relations_target": {
          "name": "idx_entity_relations_target",
          "columns": [
            {
              "expression": "target_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "entity_relations_source_id_fkey": {
          "name": "entity_relations_source_id_fkey",
          "tableFrom": "entity_relations",
          "tableTo": "entities",
          "schemaTo": "memory",
          "columnsFrom": [
            "source_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "entity_relations_target_id_fkey": {
          "name": "entity_relations_target_id_fkey",
          "tableFrom": "entity_relations",
          "tableTo": "entities",
          "schemaTo": "memory",
          "columnsFrom": [
            "target_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "entity_relations_source_id_target_id_relation_type_key": {
          "columns": [
            "target_id",
            "source_id",
            "relation_type"
          ],
          "nullsNotDistinct": false,
          "name": "entity_relations_source_id_target_id_relation_type_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "memory.compounds": {
      "name": "compounds",
      "schema": "memory",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "period_start": {
          "name": "period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "period_end": {
          "name": "period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "key_learnings": {
          "name": "key_learnings",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "mistakes": {
          "name": "mistakes",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'main'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_compounds_period": {
          "name": "idx_compounds_period",
          "columns": [
            {
              "expression": "period_start",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            },
            {
              "expression": "period_end",
              "asc": true,
              "nulls": "last",
              "opclass": "date_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.file_claims": {
      "name": "file_claims",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_path": {
          "name": "file_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_file_claims_active": {
          "name": "idx_file_claims_active",
          "columns": [
            {
              "expression": "file_path",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(released_at IS NULL)",
          "with": {}
        },
        "idx_file_claims_agent": {
          "name": "idx_file_claims_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(released_at IS NULL)",
          "with": {}
        },
        "idx_file_claims_unique_active": {
          "name": "idx_file_claims_unique_active",
          "columns": [
            {
              "expression": "file_path",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "where": "(released_at IS NULL)",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.task_assignments": {
      "name": "task_assignments",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "repo": {
          "name": "repo",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "branch": {
          "name": "branch",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "worktree_path": {
          "name": "worktree_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "file_manifest": {
          "name": "file_manifest",
          "type": "text[]",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"\"}'"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'assigned'"
        },
        "parent_task_id": {
          "name": "parent_task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "run_id": {
          "name": "run_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_task_assignments_active": {
          "name": "idx_task_assignments_active",
          "columns": [
            {
              "expression": "repo",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['assigned'::text, 'in_progress'::text]))",
          "with": {}
        },
        "idx_task_assignments_agent": {
          "name": "idx_task_assignments_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(status = ANY (ARRAY['assigned'::text, 'in_progress'::text]))",
          "with": {}
        }
      },
      "foreignKeys": {
        "task_assignments_parent_task_id_fkey": {
          "name": "task_assignments_parent_task_id_fkey",
          "tableFrom": "task_assignments",
          "tableTo": "task_assignments",
          "schemaTo": "ops",
          "columnsFrom": [
            "parent_task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "task_assignments_run_id_fkey": {
          "name": "task_assignments_run_id_fkey",
          "tableFrom": "task_assignments",
          "tableTo": "runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "task_assignments_status_check": {
          "name": "task_assignments_status_check",
          "value": "status = ANY (ARRAY['assigned'::text, 'in_progress'::text, 'review'::text, 'merging'::text, 'merged'::text, 'failed'::text, 'cancelled'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.agent_signals": {
      "name": "agent_signals",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "from_agent": {
          "name": "from_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "to_agent": {
          "name": "to_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "signal_type": {
          "name": "signal_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "read_at": {
          "name": "read_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_agent_signals_task": {
          "name": "idx_agent_signals_task",
          "columns": [
            {
              "expression": "task_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(task_id IS NOT NULL)",
          "with": {}
        },
        "idx_agent_signals_to": {
          "name": "idx_agent_signals_to",
          "columns": [
            {
              "expression": "to_agent",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_signals_task_id_fkey": {
          "name": "agent_signals_task_id_fkey",
          "tableFrom": "agent_signals",
          "tableTo": "runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "task_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "agent_signals_signal_type_check": {
          "name": "agent_signals_signal_type_check",
          "value": "signal_type = ANY (ARRAY['task_handoff'::text, 'review_request'::text, 'review_feedback'::text, 'blocked'::text, 'unblocked'::text, 'war_room_summon'::text, 'info'::text, 'error_report'::text])"
        },
        "agent_signals_status_check": {
          "name": "agent_signals_status_check",
          "value": "status = ANY (ARRAY['pending'::text, 'read'::text, 'acknowledged'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.task_runs": {
      "name": "task_runs",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_id": {
          "name": "task_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_key": {
          "name": "session_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'main'"
        },
        "tier": {
          "name": "tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "initial_tier": {
          "name": "initial_tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "model_used": {
          "name": "model_used",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model_alias": {
          "name": "model_alias",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_type": {
          "name": "task_type",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "task_description": {
          "name": "task_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'running'"
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "generated": {
            "as": "(COALESCE(input_tokens, 0) + COALESCE(output_tokens, 0))",
            "type": "stored"
          }
        },
        "cost_usd": {
          "name": "cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "cost_eur": {
          "name": "cost_eur",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_tier": {
          "name": "estimated_tier",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_tokens": {
          "name": "estimated_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_cost_usd": {
          "name": "estimated_cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "escalated_from": {
          "name": "escalated_from",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_reason": {
          "name": "escalation_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "escalation_history": {
          "name": "escalation_history",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_task_runs_agent": {
          "name": "idx_task_runs_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_runs_created": {
          "name": "idx_task_runs_created",
          "columns": [
            {
              "expression": "created_at",
              "asc": false,
              "nulls": "first",
              "opclass": "timestamptz_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_runs_model": {
          "name": "idx_task_runs_model",
          "columns": [
            {
              "expression": "model_used",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_runs_status": {
          "name": "idx_task_runs_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_runs_tier": {
          "name": "idx_task_runs_tier",
          "columns": [
            {
              "expression": "tier",
              "asc": true,
              "nulls": "last",
              "opclass": "int4_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "task_runs_status_check": {
          "name": "task_runs_status_check",
          "value": "status = ANY (ARRAY['running'::text, 'success'::text, 'failed'::text, 'escalated'::text, 'timeout'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.cost_estimates": {
      "name": "cost_estimates",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "task_run_id": {
          "name": "task_run_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_input_tokens": {
          "name": "predicted_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_output_tokens": {
          "name": "predicted_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "predicted_cost_usd": {
          "name": "predicted_cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "actual_input_tokens": {
          "name": "actual_input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_output_tokens": {
          "name": "actual_output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "actual_cost_usd": {
          "name": "actual_cost_usd",
          "type": "numeric(10, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "input_features": {
          "name": "input_features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "prediction_model_version": {
          "name": "prediction_model_version",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'heuristic_v1'"
        },
        "accuracy_pct": {
          "name": "accuracy_pct",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_cost_estimates_task_run": {
          "name": "idx_cost_estimates_task_run",
          "columns": [
            {
              "expression": "task_run_id",
              "asc": true,
              "nulls": "last",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cost_estimates_task_run_id_fkey": {
          "name": "cost_estimates_task_run_id_fkey",
          "tableFrom": "cost_estimates",
          "tableTo": "task_runs",
          "schemaTo": "ops",
          "columnsFrom": [
            "task_run_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.projects": {
      "name": "projects",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "''"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'border-l-zinc-500'"
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.research_ideas": {
      "name": "research_ideas",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sources": {
          "name": "sources",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "next_steps": {
          "name": "next_steps",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pending'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "goal_tags": {
          "name": "goal_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.live_sessions": {
      "name": "live_sessions",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_key": {
          "name": "session_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "session_id": {
          "name": "session_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "kind": {
          "name": "kind",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "input_tokens": {
          "name": "input_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "output_tokens": {
          "name": "output_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "label": {
          "name": "label",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "polled_at": {
          "name": "polled_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_live_sessions_active": {
          "name": "idx_live_sessions_active",
          "columns": [
            {
              "expression": "is_active",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(is_active = true)",
          "with": {}
        },
        "idx_live_sessions_agent": {
          "name": "idx_live_sessions_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "live_sessions_session_key_key": {
          "columns": [
            "session_key"
          ],
          "nullsNotDistinct": false,
          "name": "live_sessions_session_key_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.zombie_events": {
      "name": "zombie_events",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_key": {
          "name": "session_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "detection_heuristic": {
          "name": "detection_heuristic",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_zombie_events_session_key": {
          "name": "idx_zombie_events_session_key",
          "columns": [
            {
              "expression": "session_key",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "zombie_events_status_check": {
          "name": "zombie_events_status_check",
          "value": "status = ANY (ARRAY['suspected'::text, 'confirmed_kill'::text, 'recovered'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.task_queue": {
      "name": "task_queue",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "bigserial",
          "primaryKey": true,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "project": {
          "name": "project",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'infra'"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "priority": {
          "name": "priority",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'queued'"
        },
        "created_by": {
          "name": "created_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'boss'"
        },
        "result": {
          "name": "result",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "review_count": {
          "name": "review_count",
          "type": "smallint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "reviewer_id": {
          "name": "reviewer_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_feedback": {
          "name": "review_feedback",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "spec_url": {
          "name": "spec_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_task_queue_agent": {
          "name": "idx_task_queue_agent",
          "columns": [
            {
              "expression": "agent_id",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(agent_id IS NOT NULL)",
          "with": {}
        },
        "idx_task_queue_project": {
          "name": "idx_task_queue_project",
          "columns": [
            {
              "expression": "project",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "idx_task_queue_status": {
          "name": "idx_task_queue_status",
          "columns": [
            {
              "expression": "status",
              "asc": true,
              "nulls": "last",
              "opclass": "text_ops",
              "isExpression": false
            },
            {
              "expression": "priority",
              "asc": false,
              "nulls": "first",
              "opclass": "int2_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "checkConstraints": {
        "task_queue_priority_check": {
          "name": "task_queue_priority_check",
          "value": "(priority >= 1) AND (priority <= 10)"
        },
        "task_queue_status_check": {
          "name": "task_queue_status_check",
          "value": "status = ANY (ARRAY['queued'::text, 'assigned'::text, 'planned'::text, 'running'::text, 'review'::text, 'human_todo'::text, 'done'::text, 'failed'::text, 'cancelled'::text])"
        }
      },
      "policies": {},
      "isRLSEnabled": false
    },
    "ops.telegram_messages": {
      "name": "telegram_messages",
      "schema": "ops",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "topic_id": {
          "name": "topic_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chat_id": {
          "name": "chat_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sender_id": {
          "name": "sender_id",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true
        },
        "sender_name": {
          "name": "sender_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "ts": {
          "name": "ts",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "responded": {
          "name": "responded",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "response_at": {
          "name": "response_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "is_voice": {
          "name": "is_voice",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        }
      },
      "indexes": {
        "idx_tg_msg_responded": {
          "name": "idx_tg_msg_responded",
          "columns": [
            {
              "expression": "responded",
              "asc": true,
              "nulls": "last",
              "opclass": "bool_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "where": "(NOT responded)",
          "with": {}
        },
        "idx_tg_msg_topic": {
          "name": "idx_tg_msg_topic",
          "columns": [
            {
              "expression": "chat_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "topic_id",
              "asc": true,
              "nulls": "last",
              "opclass": "timestamptz_ops",
              "isExpression": false
            },
            {
              "expression": "ts",
              "asc": false,
              "nulls": "first",
              "opclass": "int8_ops",
              "isExpression": false
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "telegram_messages_chat_id_message_id_key": {
          "columns": [
            "message_id",
            "chat_id"
          ],
          "nullsNotDistinct": false,
          "name": "telegram_messages_chat_id_message_id_key"
        }
      },
      "checkConstraints": {},
      "policies": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {
    "memory": "memory",
    "ops": "ops"
  },
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {
      "memories": {
        "columns": {
          "tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "priorities": {
        "columns": {
          "confirmed_by": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "entities": {
        "columns": {
          "aliases": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "compounds": {
        "columns": {
          "key_learnings": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "mistakes": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "task_assignments": {
        "columns": {
          "file_manifest": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      },
      "research_ideas": {
        "columns": {
          "sources": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "next_steps": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          },
          "goal_tags": {
            "isArray": true,
            "dimensions": 1,
            "rawType": "text"
          }
        }
      }
    }
  }
}